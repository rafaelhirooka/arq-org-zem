MP2COD 4.04, COFF to COD File Converter
Copyright (c) 2006 Microchip Technology Inc.
Listing File Generated: Tue Oct 17 13:03:34 2006


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           ;**********************************************************************          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*                                                                    *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* Software License Agreement                                         *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*                                                                    *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* The software supplied herewith by Microchip Technology             *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* Incorporated (the "Company") is intended and supplied to you, the  *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* Company’s customer, for use solely and exclusively on Microchip    *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* products. The software is owned by the Company and/or its supplier,*          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* and is protected under applicable copyright laws. All rights are   *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* reserved. Any use in violation of the foregoing restrictions may   *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* subject the user to criminal sanctions under applicable laws, as   *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* well as to civil liability for the breach of the terms and         *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* conditions of this license.                                        *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*                                                                    *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* THIS SOFTWARE IS PROVIDED IN AN "AS IS" CONDITION. NO WARRANTIES,  *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED  *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A        *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,  *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR         *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                  *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*                                                                    *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;**********************************************************************          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                     *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;    Filename:	    snsrless.asm                                      *           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;    Date:          14 Jan 2002                                       *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;    File Version:  1.0                                               *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                     *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;    Author:        W.R.Brown                                         *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;    Company:       Microchip Technolgy Incorporated                  *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                     *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                     *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;**********************************************************************          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                     *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;    Files required: p16f877.inc                                      *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                     *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                     *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                     *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;**********************************************************************          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                     *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;    Notes: Sensorless brushless motor control                        *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                     *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	Closed loop 3 phase brushless DC motor control.               *                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	Two potentiometers control operation. One potentiometer (A0)  *                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	controls PWM (voltage) and RPM (from table). The other        *                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	potentiometer (A1) provides a PWM offset to the PWM derived   *                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	from A0. Phase A motor terminal is connected via voltage      *                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	divider to A3. This is read while the drive is on during      *                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	phase 4. The result is the peak applied voltage (Vsupply).    *                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	A3 is also read while the drive is on at two times during     *                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	phase 5. The result is the BEMF voltage. The BEMF voltage is  *                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	read at the quarter (t1) and mid (t2) points of the phase 5   *                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	period. BEMF is compared to VSupply/2. If BEMF is above       *                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	VSupply/2 at t1 and below VSupply/2w at t2 then no speed      *                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	adjustment is made. If BEMF is high at both t1 and t2 then    *                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	the speed is reduced. If BEMF is low at t1 and t2 then the    *                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	speed is increased.                                           *                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                     *          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;**********************************************************************          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	list P = PIC16F877                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	include "p16f877.inc"                                                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                   LIST                                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\p16f877.inc
                                           ; P16F877.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\p16f877.inc
                                                   LIST                                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\p16f877.inc
002007   3df2     SUBLW     0xf2           	__CONFIG _CP_OFF & _WRT_ENABLE_OFF & _HS_OSC & _WDT_OFF & _PWRTE_ON & _BODEN_ON K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ; Acceleration/Deceleration Time = RampRate * 256 * 256 * Timer 0 prescale / Fosc K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #define		AccelDelay	D'255'		; determines full range acceleration time            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #define		DecelDelay	D'200'		; determines full range deceleration time            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #define		ManThresh	0x3f		; Manual threshold is the PWM potentiomenter            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           						; reading above which RPM is adjusted automatically                        K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #define		AutoThresh	0x100-ManThresh                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           OffMask	equ	B'11010101'	; PWM off kills the high drives                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           Invalid	equ	B'00000000'	; invalid                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           Phase1	equ	B'00100001'	; phase 1 C high, A low                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           Phase2	equ	B'00100100'	; phase 2 C high, B low                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           Phase3	equ	B'00000110'	; phase 3 A high, B low                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           Phase4	equ	B'00010010'	; phase 4 A high, C low                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           Phase5	equ	B'00011000'	; phase 5 B high, C low                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           Phase6	equ	B'00001001'	; phase 6 B high, A low                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #define	CARRY	STATUS,C                                                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #define ZERO	STATUS,Z                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #define subwl	sublw                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;********************************************************************************* K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*                                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*	Define I/O Ports                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*                                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #define	ReadIndicator	PORTB,0		; diagnostic scope trigger for BEMF readings      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #define DrivePort	PORTC		; motor drive and lock status                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;********************************************************************************* K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*                                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*	Define RAM variables                                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*                                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	CBLOCK 0x20                                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	STATE		; Machine state                                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	PWMThresh	; PWM threshold                                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	PhaseIndx	; Current motor phase index                                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	Drive		; Motor drive word                                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	RPMIndex	; RPM Index workspace                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	ADCRPM		; ADC RPM value                                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	ADCOffset	; Delta offset to ADC PWM threshold                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	PresetHi	; speed control timer compare MS byte                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	PresetLo	; speed control timer compare LS byte                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	Flags		; general purpose flags                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	Vsupply		; Supply voltage ADC reading                                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	DeltaV1		; Difference between expected and actual BEMF at T/4                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	DeltaV2		; Difference between expected and actual BEMF at T/2                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	CCPSaveH	; Storage for phase time when finding DeltaV                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	CCPSaveL	; Storage for phase time when finding DeltaV                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	CCPT2H		; Workspace for determining T/2 and T/4                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	CCPT2L		; Workspace for determining T/2 and T/4                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	RampTimer	; Timer 0 post scaler for accel/decel ramp rate                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	xCount		; general purpose counter workspace                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	Status		; relative speed indicator status                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	ENDC                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;********************************************************************************* K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*                                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*	Define Flags                                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*                                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #define DriveOnFlag	Flags,0		; Flag for invoking drive disable mask when clear   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #define AutoRPM		Flags,1		; RPM timer is adjusted automatically                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;			Flags,3		; Undefined                                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #define FullOnFlag	Flags,4		; PWM threshold is set to maximum drive              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #define Tmr0Ovf		Flags,5		; Timer 0 overflow flag                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #define Tmr0Sync	Flags,6		; Second Timer 0 overflow flag                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;			Flags,7		; undefined                                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #define	BEMF1Low	DeltaV1,7	; BEMF1 is low if DeltaV1 is negative                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #define	BEMF2Low	DeltaV2,7	; BEMF2 is low if DeltaV2 is negative                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;********************************************************************************* K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*                                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*	Define State machine states and index numbers                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*                                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           sRPMSetup	equ	D'0'		; Wait for Phase1, Set ADC GO, RA1->ADC                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           sRPMRead	equ	sRPMSetup+1	; Wait for ADC nDONE, Read ADC->RPM                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           sOffsetSetup	equ	sRPMRead+1	; Wait for Phase2, Set ADC GO, RA3->ADC              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           sOffsetRead	equ	sOffsetSetup+1	; Wait for ADC nDONE, Read ADC->ADCOffset         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           sVSetup		equ	sOffsetRead+1	; Wait for Phase4, Drive On, wait 9 uSec, Set ADC GO  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           sVIdle		equ	sVSetup+1	; Wait for Drive On, wait Tacq, set ADC GO				             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           sVRead		equ	sVIdle+1	; Wait for ADC nDONE, Read ADC->Vsupply                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           sBEMFSetup	equ	sVRead+1	; Wait for Phase5, set Timer1 compare to half phase time K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           sBEMFIdle	equ	sBEMFSetup+1	; Wait for Timer1 compare, Force Drive on and wait 9 uSec, K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           				 	; Set ADC GO, RA0->ADC                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           sBEMFRead	equ	sBEMFIdle+1	; Wait for ADC nDONE, Read ADC->Vbemf                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           sBEMF2Idle	equ	sBEMFRead+1	; Wait for Timer1 compare, Force Drive on and wait 9 uSec, K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           					; Set ADC GO, RA0->ADC                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           sBEMF2Read	equ	sBEMF2Idle+1	; Wait for ADC nDONE, Read ADC->Vbemf                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;********************************************************************************* K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*                                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*	The ADC input is changed depending on the STATE                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*	Each STATE assumes a previous input selection and changes the selection       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;* 	by XORing the control register with the appropriate ADC input change mask    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*	defined here:                                                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*                                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ADC0to1		equ	B'00001000'	; changes ADCON0<5:3> from 000 to 001                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ADC1to3		equ	B'00010000'	; changes ADCON0<5:3> from 001 to 011                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ADC3to0		equ	B'00011000'	; changes ADCON0<5:3> from 011 to 000                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;********************************************************************************* K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;**************************** PROGRAM STARTS HERE ******************************** K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;********************************************************************************* K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                               org	0x000                                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000000   0000     NOP                      	nop                                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000001   280c     GOTO      0xc            	goto	Initialize                                                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	org	0x004                                                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000004   2808     GOTO      0x8                goto    SVR_timer0                                                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                               org 0x08                                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           SVR_timer0                                                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000008   16a9     BSF       0x29,0x5       	bsf	Tmr0Ovf		; Timer 0 overflow flag used by accel/decel timer                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000009   1729     BSF       0x29,0x6       	bsf	Tmr0Sync	; Timer 0 overflow flag used to synchronize code execution         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00000a   110b     BCF       0xb,0x2        	bcf	INTCON,T0IF                                                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00000b   0009     RETFIE                   	retfie			;                                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           Initialize                                                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00000c   0187     CLRF      0x7            	clrf	PORTC		; all drivers off                                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00000d   0186     CLRF      0x6            	clrf	PORTB                                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00000e   1683     BSF       0x3,0x5        	banksel TRISA                                                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00000f   1303     BCF       0x3,0x6                                                                                         
                                           ; setup I/O                                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000010   0187     CLRF      0x7            	clrf	TRISC		; motor drivers on PORTC                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000011   300b     MOVLW     0xb            	movlw	B'00001011'	; A/D on RA0 (PWM), RA1 (Speed) and RA3 (BEMF)                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000012   0085     MOVWF     0x5            	movwf	TRISA		;                                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000013   30fe     MOVLW     0xfe           	movlw	B'11111110'	; RB0 is locked indicator                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000014   0086     MOVWF     0x6            	movwf	TRISB                                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ; setup Timer0                                                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	;movlw	B'11010000'	; Timer0: Fosc, 1:2                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000015   30d7     MOVLW     0xd7               movlw   B'11010111'     ; Timer0: Fosc, 1:2                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000016   0081     MOVWF     0x1            	movwf	OPTION_REG                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000017   168b     BSF       0xb,0x5        	bsf	INTCON,T0IE	; enable timer 0 interrupts                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ; Setup ADC                                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000018   3004     MOVLW     0x4            	movlw	B'00000100'	; ADC left justified, AN0, AN1                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000019   009f     MOVWF     0x1f           	movwf	ADCON1                                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00001a   1283     BCF       0x3,0x5        	banksel	PORTA                                                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00001b   1303     BCF       0x3,0x6                                                                                         
00001c   3081     MOVLW     0x81           	movlw	B'10000001'	; ADC clk = Fosc/32, AN0, ADC on                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00001d   009f     MOVWF     0x1f           	movwf	ADCON0                                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ; setup Timer 1                                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00001e   3021     MOVLW     0x21           	movlw	B'00100001'	; 1:4 prescale, internal clock, timer on                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00001f   0090     MOVWF     0x10           	movwf	T1CON                                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ; setup Timer 1 compare                                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000020   30ff     MOVLW     0xff           	movlw	0xFF		; set compare to maximum count                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000021   0095     MOVWF     0x15           	movwf	CCPR1L		; LS compare register                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000022   0096     MOVWF     0x16           	movwf	CCPR1H		; MS compare register                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000023   300b     MOVLW     0xb            	movlw	B'00001011'	; Timer 1 compare mode, special event - clears timer1         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000024   0097     MOVWF     0x17           	movwf	CCP1CON                                                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ; initialize RAM                                                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000025   01a1     CLRF      0x21           	clrf	PWMThresh                                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000026   3006     MOVLW     0x6            	movlw	D'6'                                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000027   00a2     MOVWF     0x22           	movwf	PhaseIndx                                                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000028   01a9     CLRF      0x29           	clrf	Flags                                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000029   01b3     CLRF      0x33           	clrf	Status		;                                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00002a   01a0     CLRF      0x20           	clrf	STATE		; LoopIdle->STATE                                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00002b   110b     BCF       0xb,0x2        	bcf	INTCON,T0IF	; ensure timer 0 overflow flag is cleared                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00002c   178b     BSF       0xb,0x7        	bsf	INTCON,GIE	; enable interrupts                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           MainLoop                                                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*****************************************************************               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	PWM, Commutation, State machine loop                                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*****************************************************************               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00002d   190c     BTFSC     0xc,0x2        	btfsc	PIR1,CCP1IF	; time for phase change?                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00002e   2121     CALL      0x121          	call	Commutate	; yes - change motor drive                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           PWM                                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00002f   1429     BSF       0x29,0x0       	bsf	DriveOnFlag	; pre-set flag                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000030   1a29     BTFSC     0x29,0x4       	btfsc	FullOnFlag	; is PWM level at maximum?                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000031   2837     GOTO      0x37           	goto	PWM02		; yes - only commutation is necessary                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000032   0821     MOVF      0x21,0x0       	movf	PWMThresh,w	; get PWM threshold                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000033   0701     ADDWF     0x1,0x0        	addwf	TMR0,w		; compare to timer 0                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000034   1c03     BTFSS     0x3,0x0        	btfss	CARRY		; drive is on if carry is set                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000035   1029     BCF       0x29,0x0       	bcf	DriveOnFlag	; timer has not reached threshold, disable drive                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000036   212f     CALL      0x12f          	call	DriveMotor	; output drive word                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           PWM02                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000037   20f2     CALL      0xf2           	call	LockTest                                                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000038   203a     CALL      0x3a           	call	StateMachine	; service state machine                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000039   282d     GOTO      0x2d           	goto	MainLoop	; repeat loop                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           StateMachine                                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00003a   300f     MOVLW     0xf            	movlw	SMTableEnd-SMTable-1	; STATE table must have 2^n entries                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00003b   05a0     ANDWF     0x20,0x1       	andwf	STATE,f		; limit STATE index to state table                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00003c   3000     MOVLW     0x0            	movlw	high SMTable	; get high byte of table address                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00003d   008a     MOVWF     0xa            	movwf	PCLATH		; prepare for computed goto                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00003e   3043     MOVLW     0x43           	movlw	low SMTable	; get low byte of table address                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00003f   0720     ADDWF     0x20,0x0       	addwf	STATE,w		; add STATE index to table root                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000040   1803     BTFSC     0x3,0x0        	btfsc	CARRY		; test for page change in table                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000041   0a8a     INCF      0xa,0x1        	incf	PCLATH,f	; page change adjust                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000042   0082     MOVWF     0x2            	movwf	PCL		; jump into table                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           SMTable				; number of STATE table entries MUST be evenly divisible by 2         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000043   2853     GOTO      0x53           	goto	RPMSetup	; Wait for Phase1, Set ADC GO, RA1->ADC, clear timer0 overflow    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000044   285d     GOTO      0x5d           	goto	RPMRead		; Wait for ADC nDONE, Read ADC->RPM                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000045   2863     GOTO      0x63           	goto	OffsetSetup	; Wait for Phase2, Set ADC GO, RA3->ADC                        K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000046   286c     GOTO      0x6c           	goto	OffsetRead	; Wait for ADC nDONE, Read ADC->ADCOffset                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000047   2887     GOTO      0x87           	goto	VSetup		; Wait for Phase4                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000048   288e     GOTO      0x8e           	goto	VIdle		; Wait for Drive On, wait Tacq, set ADC GO				                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000049   2896     GOTO      0x96           	goto	VRead		; Wait for ADC nDONE, Read ADC->Vsupply                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00004a   289d     GOTO      0x9d           	goto	BEMFSetup	; Wait for Phase5, set Timer1 compare to half phase time         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00004b   28b8     GOTO      0xb8           	goto	BEMFIdle	; When Timer1 compares force Drive on, Set ADC GO after Tacq, RA0->ADC K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00004c   28c9     GOTO      0xc9           	goto	BEMFRead	; Wait for ADC nDONE, Read ADC->Vbemf                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00004d   28d0     GOTO      0xd0           	goto	BEMF2Idle	; When Timer1 compares force Drive on, Set ADC GO after Tacq, RA0->ADC K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00004e   28e2     GOTO      0xe2           	goto	BEMF2Read	; Wait for ADC nDONE, Read ADC->Vbemf                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ; fill out table with InvalidStates to make number of table entries evenly divisible by 2	 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00004f   28e9     GOTO      0xe9           	goto	InvalidState	; invalid state - reset state machine                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000050   28e9     GOTO      0xe9           	goto	InvalidState	; invalid state - reset state machine                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000051   28e9     GOTO      0xe9           	goto	InvalidState	; invalid state - reset state machine                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000052   28e9     GOTO      0xe9           	goto	InvalidState	; invalid state - reset state machine                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           SMTableEnd	                                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           RPMSetup			; Wait for Phase1, Set ADC GO, RA1->ADC, clear timer0 overflow        K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000053   3021     MOVLW     0x21           	movlw	Phase1		; compare Phase1 word...                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000054   0623     XORWF     0x23,0x0       	xorwf	Drive,w		; ...with current drive word                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000055   1d03     BTFSS     0x3,0x2        	btfss	ZERO		; ZERO if equal                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000056   0008     RETURN                   	return			; not Phase1 - remain in current STATE                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000057   151f     BSF       0x1f,0x2       	bsf	ADCON0,GO	; start ADC                                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000058   3008     MOVLW     0x8            	movlw	ADC0to1		; prepare to change ADC input                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000059   069f     XORWF     0x1f,0x1       	xorwf	ADCON0,f	; change from AN0 to AN1                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00005a   0aa0     INCF      0x20,0x1       	incf	STATE,f		; next STATE                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00005b   1329     BCF       0x29,0x6       	bcf	Tmr0Sync	; clear timer0 overflow                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00005c   0008     RETURN                   	return			; back to Main Loop                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           RPMRead				; Wait for ADC nDONE, Read ADC->RPM                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00005d   191f     BTFSC     0x1f,0x2       	btfsc	ADCON0,GO	; is ADC conversion finished?                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00005e   0008     RETURN                   	return			; no - remain in current STATE                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00005f   081e     MOVF      0x1e,0x0       	movf	ADRESH,w	; get ADC result                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000060   00a5     MOVWF     0x25           	movwf	ADCRPM		; save in RPM                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000061   0aa0     INCF      0x20,0x1       	incf	STATE,f		; next STATE                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000062   0008     RETURN                   	return			; back to Main Loop                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           OffsetSetup			; Wait for Phase2, Set ADC GO, RA3->ADC                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000063   3024     MOVLW     0x24           	movlw	Phase2		; compare Phase2 word...                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000064   0623     XORWF     0x23,0x0       	xorwf	Drive,w		; ...with current drive word                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000065   1d03     BTFSS     0x3,0x2        	btfss	ZERO		; ZERO if equal                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000066   0008     RETURN                   	return			; not Phase2 - remain in current STATE                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000067   151f     BSF       0x1f,0x2       	bsf	ADCON0,GO	; start ADC                                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000068   3010     MOVLW     0x10           	movlw	ADC1to3		; prepare to change ADC input                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000069   069f     XORWF     0x1f,0x1       	xorwf	ADCON0,f	; change from AN1 to AN3                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00006a   0aa0     INCF      0x20,0x1       	incf	STATE,f		; next STATE                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00006b   0008     RETURN                   	return			; back to Main Loop                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           OffsetRead			; Wait for ADC nDONE, Read ADC->ADCOffset                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00006c   191f     BTFSC     0x1f,0x2       	btfsc	ADCON0,GO	; is ADC conversion finished?                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00006d   0008     RETURN                   	return			; no - remain in current STATE                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00006e   081e     MOVF      0x1e,0x0       	movf	ADRESH,w	; get ADC result                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00006f   3a80     XORLW     0x80           	xorlw	H'80'		; complement MSB for +/- offset                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000070   00a6     MOVWF     0x26           	movwf	ADCOffset	; save in offset                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000071   0725     ADDWF     0x25,0x0       	addwf	ADCRPM,w	; add offset to PWM result                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000072   1fa6     BTFSS     0x26,0x7       	btfss	ADCOffset,7	; is offset a negative number?                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000073   2877     GOTO      0x77           	goto	OverflowTest	; no - test for overflow                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000074   1c03     BTFSS     0x3,0x0        	btfss	CARRY		; underflow?                                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000075   3900     ANDLW     0x0            	andlw	H'00'		; yes - force minimum                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000076   2879     GOTO      0x79           	goto	Threshold	;                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           OverflowTest	                                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000077   1803     BTFSC     0x3,0x0        	btfsc	CARRY		; overflow?                                                        K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000078   30ff     MOVLW     0xff           	movlw	H'ff'		; yes - force maximum                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           Threshold	                                                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000079   00a1     MOVWF     0x21           	movwf	PWMThresh	; PWM threshold is RPM result plus offset                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00007a   1903     BTFSC     0x3,0x2        	btfsc	ZERO		; is drive off?                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00007b   2882     GOTO      0x82           	goto	DriveOff	; yes - skip voltage measurements                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00007c   1229     BCF       0x29,0x4       	bcf	FullOnFlag	; pre-clear flag in preparation of compare                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00007d   3cfd     SUBLW     0xfd           	sublw	0xFD		; full on threshold                                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00007e   1c03     BTFSS     0x3,0x0        	btfss	CARRY		; CY = 0 if PWMThresh > FullOn                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00007f   1629     BSF       0x29,0x4       	bsf	FullOnFlag	; set full on flag                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000080   0aa0     INCF      0x20,0x1       	incf	STATE,f		; next STATE                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000081   0008     RETURN                   	return			; back to Main Loop                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           DriveOff                                                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000082   01b3     CLRF      0x33           	clrf	Status		; clear speed indicators                                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000083   30c7     MOVLW     0xc7           	movlw	B'11000111'	; reset ADC input to AN0                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000084   059f     ANDWF     0x1f,0x1       	andwf	ADCON0,f	;                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000085   01a0     CLRF      0x20           	clrf	STATE		; reset state machine                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000086   0008     RETURN                   	return                                                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           VSetup				; Wait for Phase4                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000087   3012     MOVLW     0x12           	movlw	Phase4		; compare Phase4 word...                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000088   0623     XORWF     0x23,0x0       	xorwf	Drive,w		; ...with current Phase drive word                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000089   1d03     BTFSS     0x3,0x2        	btfss	ZERO		; ZERO if equal                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00008a   0008     RETURN                   	return			; not Phase4 - remain in current STATE                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00008b   213e     CALL      0x13e          	call	SetTimer	; set timer value from RPM table                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00008c   0aa0     INCF      0x20,0x1       	incf	STATE,f		; next STATE                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00008d   0008     RETURN                   	return			; back to Main Loop                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           VIdle				; Wait for Drive On, wait Tacq, set ADC GO				                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00008e   1c29     BTFSS     0x29,0x0       	btfss	DriveOnFlag	; is Drive active?                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00008f   0008     RETURN                   	return			; no - remain in current STATE                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000090   1406     BSF       0x6,0x0        	bsf	ReadIndicator	; Diagnostic	                                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000091   20ed     CALL      0xed           	call	Tacq		; motor Drive is active - wait ADC Tacq time                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000092   151f     BSF       0x1f,0x2       	bsf	ADCON0,GO	; start ADC	                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000093   1006     BCF       0x6,0x0        	bcf	ReadIndicator	; Diagnostic                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000094   0aa0     INCF      0x20,0x1       	incf	STATE,f		; next STATE                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000095   0008     RETURN                   	return			; back to Main Loop                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           VRead				; Wait for ADC nDONE, Read ADC->Vsupply                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000096   191f     BTFSC     0x1f,0x2       	btfsc	ADCON0,GO	; is ADC conversion finished?                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000097   0008     RETURN                   	return			; no - remain in current STATE                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000098   081e     MOVF      0x1e,0x0       	movf	ADRESH,w	; get ADC result                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000099   00aa     MOVWF     0x2a           	movwf	Vsupply		; save as supply voltage                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00009a   0aa0     INCF      0x20,0x1       	incf	STATE,f		; next STATE                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00009b   1329     BCF       0x29,0x6       	bcf	Tmr0Sync	; clear timer 0 overflow                                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00009c   0008     RETURN                   	return			; back to Main Loop                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           BEMFSetup			; Wait for Phase5, set Timer1 compare to half phase time             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00009d   3018     MOVLW     0x18           	movlw	Phase5		; compare Phase5 word...                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00009e   0623     XORWF     0x23,0x0       	xorwf	Drive,w		; ...with current drive word                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00009f   1d03     BTFSS     0x3,0x2        	btfss	ZERO		; ZERO if equal                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000a0   0008     RETURN                   	return			; not Phase5 - remain in current STATE                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000a1   1f29     BTFSS     0x29,0x6       	btfss	Tmr0Sync	; synchronize with timer 0                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000a2   0008     RETURN                   	return			;                                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000a3   1fa1     BTFSS     0x21,0x7       	btfss	PWMThresh,7	; if PWMThresh > 0x80 then ON is longer than OFF              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000a4   28a7     GOTO      0xa7           	goto	BEMFS1		; OFF is longer and motor is currently off - compute now           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000a5   1c29     BTFSS     0x29,0x0       	btfss	DriveOnFlag	; ON is longer - wait for drive cycle to start                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000a6   0008     RETURN                   	return			; not started - wait                                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           BEMFS1                                                                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000a7   1017     BCF       0x17,0x0       	bcf	CCP1CON,0	; disable special event on compare                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000a8   0816     MOVF      0x16,0x0       	movf	CCPR1H,w	; save current capture compare state                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000a9   00ad     MOVWF     0x2d           	movwf	CCPSaveH	;                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000aa   00af     MOVWF     0x2f           	movwf	CCPT2H		; save copy in workspace                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000ab   0815     MOVF      0x15,0x0       	movf	CCPR1L,w	; low byte                                                        K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000ac   00ae     MOVWF     0x2e           	movwf	CCPSaveL	; save                                                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000ad   00b0     MOVWF     0x30           	movwf	CCPT2L		; and save copy                                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000ae   1003     BCF       0x3,0x0        	bcf	CARRY		; pre-clear carry for rotate                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000af   0caf     RRF       0x2f,0x1       	rrf	CCPT2H,f	; divide phase time by 2                                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000b0   0cb0     RRF       0x30,0x1       	rrf	CCPT2L,f	;                                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000b1   1003     BCF       0x3,0x0        	bcf	CARRY		; pre-clear carry                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000b2   0c2f     RRF       0x2f,0x0       	rrf	CCPT2H,w	; divide phase time by another 2                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000b3   0096     MOVWF     0x16           	movwf	CCPR1H		; first BEMF reading at phase T/4                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000b4   0c30     RRF       0x30,0x0       	rrf	CCPT2L,w	;                                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000b5   0095     MOVWF     0x15           	movwf	CCPR1L		;                                                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           					                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000b6   0aa0     INCF      0x20,0x1       	incf	STATE,f		; next STATE                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000b7   0008     RETURN                   	return			; back to Main Loop                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           BEMFIdle			; When Timer1 compares force Drive on, Set ADC GO after Tacq, RA0->ADC K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000b8   1d0c     BTFSS     0xc,0x2        	btfss	PIR1,CCP1IF	; timer compare?                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000b9   0008     RETURN                   	return			; no - remain in current STATE                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000ba   1429     BSF       0x29,0x0       	bsf	DriveOnFlag	; force drive on for BEMF reading                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000bb   212f     CALL      0x12f          	call	DriveMotor	; activate motor drive                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000bc   1406     BSF       0x6,0x0        	bsf	ReadIndicator	; Diagnostic                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000bd   20ed     CALL      0xed           	call	Tacq		; wait ADC acqisition time                                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000be   151f     BSF       0x1f,0x2       	bsf	ADCON0,GO	; start ADC	                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000bf   1006     BCF       0x6,0x0        	bcf	ReadIndicator	; Diagnostic                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ; setup to capture BEMF at phase 3/4 T                                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000c0   082f     MOVF      0x2f,0x0       	movf	CCPT2H,w                                                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000c1   0796     ADDWF     0x16,0x1       	addwf	CCPR1H,f	; next compare at phase 3/4 T                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000c2   0830     MOVF      0x30,0x0       	movf	CCPT2L,w	;                                                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000c3   0795     ADDWF     0x15,0x1       	addwf	CCPR1L,f	; set T/2 lsb                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000c4   1803     BTFSC     0x3,0x0        	btfsc	CARRY		; test for carry into MSb                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000c5   0a96     INCF      0x16,0x1       	incf	CCPR1H,f	; perform carry                                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000c6   110c     BCF       0xc,0x2        	bcf	PIR1,CCP1IF	; clear timer compare interrupt flag                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000c7   0aa0     INCF      0x20,0x1       	incf	STATE,f		; next STATE                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000c8   0008     RETURN                   	return			; back to Main Loop                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           BEMFRead			; Wait for ADC nDONE, Read ADC->Vbemf                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000c9   191f     BTFSC     0x1f,0x2       	btfsc	ADCON0,GO	; is ADC conversion finished?                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000ca   0008     RETURN                   	return			; no - remain in current STATE                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000cb   0c2a     RRF       0x2a,0x0       	rrf	Vsupply,w	; divide supply voltage by 2	                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000cc   021e     SUBWF     0x1e,0x0       	subwf	ADRESH,w	; Vbemf - Vsupply/2                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000cd   00ab     MOVWF     0x2b           	movwf	DeltaV1		; save error voltage                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000ce   0aa0     INCF      0x20,0x1       	incf	STATE,f		; next STATE                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000cf   0008     RETURN                   	return			; back to Main Loop                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           BEMF2Idle			; When Timer1 compares force Drive on, Set ADC GO after Tacq, RA0->ADC K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000d0   1d0c     BTFSS     0xc,0x2        	btfss	PIR1,CCP1IF	; timer compare?                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000d1   0008     RETURN                   	return			; no - remain in current STATE                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000d2   1429     BSF       0x29,0x0       	bsf	DriveOnFlag	; force drive on for BEMF reading                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000d3   212f     CALL      0x12f          	call	DriveMotor	; activate motor drive                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000d4   1406     BSF       0x6,0x0        	bsf	ReadIndicator	; Diagnostic                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000d5   20ed     CALL      0xed           	call	Tacq		; wait ADC acqisition time                                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000d6   151f     BSF       0x1f,0x2       	bsf	ADCON0,GO	; start ADC	                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000d7   1006     BCF       0x6,0x0        	bcf	ReadIndicator	; Diagnostic                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000d8   3018     MOVLW     0x18           	movlw	ADC3to0		; prepare to change ADC input                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000d9   069f     XORWF     0x1f,0x1       	xorwf	ADCON0,f	; change from AN3 to AN0                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ; restore Timer1 phase time and special event compare mode                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000da   082d     MOVF      0x2d,0x0       	movf	CCPSaveH,w                                                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000db   0096     MOVWF     0x16           	movwf	CCPR1H		; next compare at phase T                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000dc   082e     MOVF      0x2e,0x0       	movf	CCPSaveL,w	;                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000dd   0095     MOVWF     0x15           	movwf	CCPR1L		; set T lsb                                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000de   110c     BCF       0xc,0x2        	bcf	PIR1,CCP1IF	; clear timer compare interrupt flag                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000df   1417     BSF       0x17,0x0       	bsf	CCP1CON,0	; enable special event on compare                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000e0   0aa0     INCF      0x20,0x1       	incf	STATE,f		; next STATE                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000e1   0008     RETURN                   	return			; back to Main Loop                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           BEMF2Read			; Wait for ADC nDONE, Read ADC->Vbemf                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000e2   191f     BTFSC     0x1f,0x2       	btfsc	ADCON0,GO	; is ADC conversion finished?                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000e3   0008     RETURN                   	return			; no - remain in current STATE                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000e4   0c2a     RRF       0x2a,0x0       	rrf	Vsupply,w	; divide supply voltage by 2	                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000e5   021e     SUBWF     0x1e,0x0       	subwf	ADRESH,w	; Vbemf - Vsupply/2                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000e6   00ac     MOVWF     0x2c           	movwf	DeltaV2		; save error voltage                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000e7   01a0     CLRF      0x20           	clrf	STATE		; reset state machine to beginning                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000e8   0008     RETURN                   	return			; back to Main Loop                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           InvalidState			; trap for invalid STATE index                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000e9   30c7     MOVLW     0xc7           	movlw	B'11000111'	; reset ADC input to AN0                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000ea   059f     ANDWF     0x1f,0x1       	andwf	ADCON0,f	;                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000eb   01a0     CLRF      0x20           	clrf	STATE                                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000ec   0008     RETURN                   	return	                                                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;______________________________________________________________________________________________________ K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           Tacq                                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*****************************************************************               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	Software delay for ADC acquisition time                                        K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	Delay time = Tosc*(3+3*xCount)                                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*****************************************************************               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000ed   300e     MOVLW     0xe            	movlw	D'14'		; 14 equates to approx 9 uSec delay                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000ee   00b2     MOVWF     0x32           	movwf	xCount	;                                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000ef   0bb2     DECFSZ    0x32,0x1       	decfsz	xCount,f	;                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000f0   28ef     GOTO      0xef           	goto	$-1		; loop here until time complete                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000f1   0008     RETURN                   	return                                                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           LockTest                                                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*****************************************************************               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	T is the commutation phase period. Back EMF is measured on the                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	floating motor terminal at two times during T to determine                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	the approximate zero crossing of the BEMF. BEMF low means that                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	the measured BEMF is below (supply voltage)/2.                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	If BEMF is low at 1/4 T then accelerate.                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	If BEMF is high at 1/4 T and low at 3/4 T then speed is OK.                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	If BEMF is high at 1/4 T and 3/4 T then decelerate.                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	Lock test computation is synchronized to the PWM clock such                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	that the computation is performed during the PWM ON or OFF                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	time whichever is longer.                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*****************************************************************               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ; synchronize test with start of timer 0	                                        K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000f2   1ea9     BTFSS     0x29,0x5       	btfss	Tmr0Ovf		; has timer 0 wrapped around?                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000f3   0008     RETURN                   	return			; no - skip lock test                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000f4   1fa1     BTFSS     0x21,0x7       	btfss	PWMThresh,7	; if PWMThresh > 0x80 then ON is longer than OFF              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000f5   28f8     GOTO      0xf8           	goto	LT05		; OFF is longer and motor is currently off - compute now             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000f6   1c29     BTFSS     0x29,0x0       	btfss	DriveOnFlag	; ON is longer - wait for drive cycle to start                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000f7   0008     RETURN                   	return			; not started - wait                                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           LT05                                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000f8   12a9     BCF       0x29,0x5       	bcf	Tmr0Ovf		; clear synchronization flag                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000f9   0bb1     DECFSZ    0x31,0x1       	decfsz	RampTimer,f	; RampTimer controls the acceleration/deceleration rate      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000fa   0008     RETURN                   	return                                                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           		                                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ; use lock results to control RPM only if not manual mode		                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000fb   14a9     BSF       0x29,0x1       	bsf	AutoRPM		; preset flag                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000fc   0825     MOVF      0x25,0x0       	movf	ADCRPM,w	; compare RPM potentiometer...                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000fd   3ec1     ADDLW     0xc1           	addlw	AutoThresh	; ...to the auto control threshold                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000fe   1c03     BTFSS     0x3,0x0        	btfss	CARRY		; CARRY is set if RPM is > auto threshold                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
0000ff   10a9     BCF       0x29,0x1       	bcf	AutoRPM		; not in auto range - reset flag                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000100   1fab     BTFSS     0x2b,0x7       	btfss	BEMF1Low	; is first BEMF below Supply/2                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000101   290c     GOTO      0x10c          	goto	LT20		; no - test second BEMF                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           LT10                                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ; accelerate if BEMF at 1/4 T is below Supply/2                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000102   3080     MOVLW     0x80           	movlw	B'10000000'	; indicate lock test results                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000103   00b3     MOVWF     0x33           	movwf	Status		; status is OR'd with drive word later	                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000104   30ff     MOVLW     0xff           	movlw	AccelDelay	; set the timer for acceleration delay                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000105   00b1     MOVWF     0x31           	movwf	RampTimer	;                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000106   1ca9     BTFSS     0x29,0x1       	btfss	AutoRPM		; is RPM in auto range?                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000107   291e     GOTO      0x11e          	goto	ManControl	; no - skip RPM adjustment                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000108   0fa4     INCFSZ    0x24,0x1       	incfsz	RPMIndex,f	; increment the RPM table index                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000109   0008     RETURN                   	return			; return if Index didn't wrap around                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00010a   03a4     DECF      0x24,0x1       	decf	RPMIndex,f	; top limit is 0xFF                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00010b   0008     RETURN                   	return                                                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           LT20	                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00010c   1bac     BTFSC     0x2c,0x7       	btfsc	BEMF2Low	; BEMF1 was high...                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00010d   2918     GOTO      0x118          	goto	ShowLocked	; ... and BEMF2 is low - show locked                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ; decelerate if BEMF at 3/4 T is above Supply/2                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00010e   3040     MOVLW     0x40           	movlw	B'01000000'	; indicate lock test results                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00010f   00b3     MOVWF     0x33           	movwf	Status		; status is OR'd with drive word later                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000110   30c8     MOVLW     0xc8           	movlw	DecelDelay	; set the timer for deceleration delay                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000111   00b1     MOVWF     0x31           	movwf	RampTimer	;                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000112   1ca9     BTFSS     0x29,0x1       	btfss	AutoRPM		; is RPM in auto range?                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000113   291e     GOTO      0x11e          	goto	ManControl	; no - skip RPM adjustment                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000114   0ba4     DECFSZ    0x24,0x1       	decfsz	RPMIndex,f	; set next lower RPM table index                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000115   0008     RETURN                   	return			; return if index didn't wrap around                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000116   0aa4     INCF      0x24,0x1       	incf	RPMIndex,f	; bottom limit is 0x01                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000117   0008     RETURN                   	return                                                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ShowLocked                                                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000118   30c0     MOVLW     0xc0           	movlw	B'11000000'	; indicate lock test results                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000119   00b3     MOVWF     0x33           	movwf	Status		; status is OR'd with drive word later                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00011a   30c8     MOVLW     0xc8           	movlw	DecelDelay	; set the timer for deceleration delay                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00011b   00b1     MOVWF     0x31           	movwf	RampTimer	;                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00011c   18a9     BTFSC     0x29,0x1       	btfsc	AutoRPM		; was RPM set automatically?                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00011d   0008     RETURN                   	return			; yes - we're done                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ManControl                                                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00011e   0825     MOVF      0x25,0x0       	movf	ADCRPM,w	; get RPM potentiometer reading...                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00011f   00a4     MOVWF     0x24           	movwf	RPMIndex	; ...and set table index directly                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000120   0008     RETURN                   	return                                                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           Commutate                                                                        K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*****************************************************************               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	Commutation is triggered by PIR1<CCP1IF> flag.                                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	This flag is set when timer1 equals the compare register.                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	When BEMF measurement is active the compare time is not                        K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	cleared automatically (special event trigger is off).                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;       Ignore the PIR1<CCP1IF> flag when special trigger is off                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	because the flag is for BEMF measurment.                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	If BEMF measurement is not active then decrement phase table                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	index and get the drive word from the table. Save the                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	drive word in a global variable and output to motor drivers.                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*****************************************************************               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000121   1c17     BTFSS     0x17,0x0       	btfss	CCP1CON,0	; is special event on compare enabled?                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000122   0008     RETURN                   	return			; no - this is a BEMF measurment, let state machine handle this        K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000123   110c     BCF       0xc,0x2        	bcf	PIR1,CCP1IF	; clear interrupt flag                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000124   3001     MOVLW     0x1            	movlw	high OnTable	; set upper program counter bits                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000125   008a     MOVWF     0xa            	movwf	PCLATH                                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000126   0b22     DECFSZ    0x22,0x0       	decfsz	PhaseIndx,w	; decrement to next phase                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000127   2929     GOTO      0x129          	goto	$+2		; skip reset if not zero                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000128   3006     MOVLW     0x6            	movlw	D'6'		; phase counts 6 to 1                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000129   00a2     MOVWF     0x22           	movwf	PhaseIndx	; save the phase index                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00012a   3e36     ADDLW     0x36           	addlw	LOW OnTable                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00012b   1803     BTFSC     0x3,0x0        	btfsc	CARRY		; test for possible page boundry                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00012c   0a8a     INCF      0xa,0x1        	incf	PCLATH,f	; page boundry adjust                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00012d   2135     CALL      0x135          	call	GetDrive                                                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00012e   00a3     MOVWF     0x23           	movwf	Drive		; save motor drive word                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           DriveMotor                                                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00012f   0823     MOVF      0x23,0x0       	movf	Drive,w		; restore motor drive word                                        K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000130   1c29     BTFSS     0x29,0x0       	btfss	DriveOnFlag	; test drive enable flag                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000131   39d5     ANDLW     0xd5           	andlw	OffMask		; kill high drive if PWM is off                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000132   0433     IORWF     0x33,0x0       	iorwf	Status,w	; show speed indicators                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000133   0087     MOVWF     0x7            	movwf	DrivePort	; output to motor drivers                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000134   0008     RETURN                   	return                                                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           GetDrive                                                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000135   0082     MOVWF     0x2            	movwf	PCL		; computed goto                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           OnTable                                                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000136   3400     RETLW     0x0            	retlw	Invalid                                                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000137   3409     RETLW     0x9            	retlw	Phase6                                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000138   3418     RETLW     0x18           	retlw	Phase5                                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000139   3412     RETLW     0x12           	retlw	Phase4                                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00013a   3406     RETLW     0x6            	retlw	Phase3                                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00013b   3424     RETLW     0x24           	retlw	Phase2                                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00013c   3421     RETLW     0x21           	retlw	Phase1                                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00013d   3400     RETLW     0x0            	retlw	Invalid                                                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           SetTimer                                                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*****************************************************************               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	This sets the CCP module compare registers for timer 1.                        K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ; 	The motor phase period is the time it takes timer 1                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	to count from 0 to the compare value. The CCP module                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	is configured to clear timer 1 when the compare occurs.                        K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ; 	Get the timer1 compare variable from two lookup tables, one                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;	for the compare high byte and the other for the low byte.                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ;*****************************************************************               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00013e   2143     CALL      0x143          	call	SetTimerHigh                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00013f   0096     MOVWF     0x16           	movwf	CCPR1H			; Timer1 High byte preset                                        K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000140   214a     CALL      0x14a          	call	SetTimerLow                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000141   0095     MOVWF     0x15           	movwf	CCPR1L			; Timer1 Low byte preset                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000142   0008     RETURN                   	return                                                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           SetTimerHigh                                                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000143   3001     MOVLW     0x1            	movlw	high T1HighTable	; lookup preset values                                   K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000144   008a     MOVWF     0xa            	movwf	PCLATH			; high bytes first                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000145   3051     MOVLW     0x51           	movlw	low T1HighTable		;                                                        K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000146   0724     ADDWF     0x24,0x0       	addwf	RPMIndex,w		; add table index                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000147   1803     BTFSC     0x3,0x0        	btfsc	STATUS,C		; test for table page crossing                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000148   0a8a     INCF      0xa,0x1        	incf	PCLATH,f		;                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000149   0082     MOVWF     0x2            	movwf	PCL			; lookup - result returned in W                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           SetTimerLow                                                                      K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00014a   3002     MOVLW     0x2            	movlw	high T1LowTable		; repeat for lower byte                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00014b   008a     MOVWF     0xa            	movwf	PCLATH			;                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00014c   3051     MOVLW     0x51           	movlw	low T1LowTable		;                                                         K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00014d   0724     ADDWF     0x24,0x0       	addwf	RPMIndex,w		; add table index                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00014e   1803     BTFSC     0x3,0x0        	btfsc	STATUS,C		; test for table page crossing                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
00014f   0a8a     INCF      0xa,0x1        	incf	PCLATH,f		;                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
000150   0082     MOVWF     0x2            	movwf	PCL			; lookup - result returned in W                                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           #include "BLDCspd4.inc"                                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           ; file : BLDCSpd4.inc                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           ;                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           ; NOTE: This file is built using the Excel                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           ;       "BLDC Table Generator" Spreadsheet                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           ;       Enter the motor specifics in the spreadsheet                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           ;       then cut the resulting MS Byte code and LS Byte code                     K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           ;       from the spreadsheet and paste to the respective tables.                 K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           ;                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           ; BLDC speed lookup table                                                        K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           ; MaxRPM = 8000                                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           ; MinRPM = 96                                                                    K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           ; Phases per mechanical revolution = 12                                          K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           ; Fosc = 20 MHz                                                                  K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           ; Timer 1 prescale = 4                                                           K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           ; 0 RPM Axis intercept = -345 RPM                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           ;                                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           T1HighTable        ; MS Byte code                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000151   34fd     RETLW     0xfd           	retlw high D'64854'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000152   34fd     RETLW     0xfd           	retlw high D'64854'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000153   34fd     RETLW     0xfd           	retlw high D'64854'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000154   34fd     RETLW     0xfd           	retlw high D'64854'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000155   34fd     RETLW     0xfd           	retlw high D'64854'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000156   34fd     RETLW     0xfd           	retlw high D'64854'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000157   34fd     RETLW     0xfd           	retlw high D'64854'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000158   34fd     RETLW     0xfd           	retlw high D'64854'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000159   34fd     RETLW     0xfd           	retlw high D'64854'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00015a   34fd     RETLW     0xfd           	retlw high D'64854'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00015b   34fd     RETLW     0xfd           	retlw high D'64854'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00015c   34fd     RETLW     0xfd           	retlw high D'64854'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00015d   34fd     RETLW     0xfd           	retlw high D'64854'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00015e   34fd     RETLW     0xfd           	retlw high D'64854'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00015f   34fd     RETLW     0xfd           	retlw high D'64854'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000160   34fd     RETLW     0xfd           	retlw high D'64854'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000161   34c0     RETLW     0xc0           	retlw high D'49189'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000162   3498     RETLW     0x98           	retlw high D'39062'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000163   347e     RETLW     0x7e           	retlw high D'32393'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000164   346c     RETLW     0x6c           	retlw high D'27669'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000165   345e     RETLW     0x5e           	retlw high D'24147'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000166   3453     RETLW     0x53           	retlw high D'21421'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000167   344b     RETLW     0x4b           	retlw high D'19248'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000168   3444     RETLW     0x44           	retlw high D'17475'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000169   343e     RETLW     0x3e           	retlw high D'16001'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00016a   3439     RETLW     0x39           	retlw high D'14756'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00016b   3435     RETLW     0x35           	retlw high D'13692'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00016c   3431     RETLW     0x31           	retlw high D'12770'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00016d   342e     RETLW     0x2e           	retlw high D'11965'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00016e   342b     RETLW     0x2b           	retlw high D'11255'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00016f   3429     RETLW     0x29           	retlw high D'10625'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000170   3427     RETLW     0x27           	retlw high D'10061'                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000171   3425     RETLW     0x25           	retlw high D'9554'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000172   3423     RETLW     0x23           	retlw high D'9096'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000173   3421     RETLW     0x21           	retlw high D'8680'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000174   3420     RETLW     0x20           	retlw high D'8300'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000175   341f     RETLW     0x1f           	retlw high D'7952'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000176   341d     RETLW     0x1d           	retlw high D'7632'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000177   341c     RETLW     0x1c           	retlw high D'7337'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000178   341b     RETLW     0x1b           	retlw high D'7064'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000179   341a     RETLW     0x1a           	retlw high D'6810'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00017a   3419     RETLW     0x19           	retlw high D'6574'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00017b   3418     RETLW     0x18           	retlw high D'6354'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00017c   3418     RETLW     0x18           	retlw high D'6148'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00017d   3417     RETLW     0x17           	retlw high D'5955'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00017e   3416     RETLW     0x16           	retlw high D'5774'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00017f   3415     RETLW     0x15           	retlw high D'5603'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000180   3415     RETLW     0x15           	retlw high D'5443'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000181   3414     RETLW     0x14           	retlw high D'5291'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000182   3414     RETLW     0x14           	retlw high D'5147'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000183   3413     RETLW     0x13           	retlw high D'5011'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000184   3413     RETLW     0x13           	retlw high D'4882'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000185   3412     RETLW     0x12           	retlw high D'4760'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000186   3412     RETLW     0x12           	retlw high D'4643'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000187   3411     RETLW     0x11           	retlw high D'4532'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000188   3411     RETLW     0x11           	retlw high D'4427'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000189   3410     RETLW     0x10           	retlw high D'4326'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00018a   3410     RETLW     0x10           	retlw high D'4229'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00018b   3410     RETLW     0x10           	retlw high D'4137'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00018c   340f     RETLW     0xf            	retlw high D'4049'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00018d   340f     RETLW     0xf            	retlw high D'3964'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00018e   340f     RETLW     0xf            	retlw high D'3883'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00018f   340e     RETLW     0xe            	retlw high D'3805'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000190   340e     RETLW     0xe            	retlw high D'3730'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000191   340e     RETLW     0xe            	retlw high D'3658'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000192   340e     RETLW     0xe            	retlw high D'3589'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000193   340d     RETLW     0xd            	retlw high D'3522'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000194   340d     RETLW     0xd            	retlw high D'3458'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000195   340d     RETLW     0xd            	retlw high D'3396'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000196   340d     RETLW     0xd            	retlw high D'3336'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000197   340c     RETLW     0xc            	retlw high D'3279'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000198   340c     RETLW     0xc            	retlw high D'3223'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000199   340c     RETLW     0xc            	retlw high D'3169'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00019a   340c     RETLW     0xc            	retlw high D'3117'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00019b   340b     RETLW     0xb            	retlw high D'3067'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00019c   340b     RETLW     0xb            	retlw high D'3018'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00019d   340b     RETLW     0xb            	retlw high D'2971'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00019e   340b     RETLW     0xb            	retlw high D'2925'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00019f   340b     RETLW     0xb            	retlw high D'2880'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001a0   340b     RETLW     0xb            	retlw high D'2837'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001a1   340a     RETLW     0xa            	retlw high D'2796'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001a2   340a     RETLW     0xa            	retlw high D'2755'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001a3   340a     RETLW     0xa            	retlw high D'2716'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001a4   340a     RETLW     0xa            	retlw high D'2677'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001a5   340a     RETLW     0xa            	retlw high D'2640'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001a6   340a     RETLW     0xa            	retlw high D'2604'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001a7   340a     RETLW     0xa            	retlw high D'2568'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001a8   3409     RETLW     0x9            	retlw high D'2534'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001a9   3409     RETLW     0x9            	retlw high D'2501'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001aa   3409     RETLW     0x9            	retlw high D'2468'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001ab   3409     RETLW     0x9            	retlw high D'2436'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001ac   3409     RETLW     0x9            	retlw high D'2406'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001ad   3409     RETLW     0x9            	retlw high D'2375'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001ae   3409     RETLW     0x9            	retlw high D'2346'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001af   3409     RETLW     0x9            	retlw high D'2317'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001b0   3408     RETLW     0x8            	retlw high D'2289'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001b1   3408     RETLW     0x8            	retlw high D'2262'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001b2   3408     RETLW     0x8            	retlw high D'2235'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001b3   3408     RETLW     0x8            	retlw high D'2209'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001b4   3408     RETLW     0x8            	retlw high D'2184'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001b5   3408     RETLW     0x8            	retlw high D'2159'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001b6   3408     RETLW     0x8            	retlw high D'2135'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001b7   3408     RETLW     0x8            	retlw high D'2111'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001b8   3408     RETLW     0x8            	retlw high D'2088'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001b9   3408     RETLW     0x8            	retlw high D'2065'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001ba   3407     RETLW     0x7            	retlw high D'2043'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001bb   3407     RETLW     0x7            	retlw high D'2021'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001bc   3407     RETLW     0x7            	retlw high D'2000'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001bd   3407     RETLW     0x7            	retlw high D'1979'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001be   3407     RETLW     0x7            	retlw high D'1958'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001bf   3407     RETLW     0x7            	retlw high D'1938'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001c0   3407     RETLW     0x7            	retlw high D'1919'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001c1   3407     RETLW     0x7            	retlw high D'1900'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001c2   3407     RETLW     0x7            	retlw high D'1881'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001c3   3407     RETLW     0x7            	retlw high D'1862'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001c4   3407     RETLW     0x7            	retlw high D'1844'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001c5   3407     RETLW     0x7            	retlw high D'1826'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001c6   3407     RETLW     0x7            	retlw high D'1809'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001c7   3407     RETLW     0x7            	retlw high D'1792'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001c8   3406     RETLW     0x6            	retlw high D'1775'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001c9   3406     RETLW     0x6            	retlw high D'1759'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001ca   3406     RETLW     0x6            	retlw high D'1742'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001cb   3406     RETLW     0x6            	retlw high D'1727'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001cc   3406     RETLW     0x6            	retlw high D'1711'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001cd   3406     RETLW     0x6            	retlw high D'1696'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001ce   3406     RETLW     0x6            	retlw high D'1681'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001cf   3406     RETLW     0x6            	retlw high D'1666'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001d0   3406     RETLW     0x6            	retlw high D'1651'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001d1   3406     RETLW     0x6            	retlw high D'1637'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001d2   3406     RETLW     0x6            	retlw high D'1623'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001d3   3406     RETLW     0x6            	retlw high D'1609'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001d4   3406     RETLW     0x6            	retlw high D'1596'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001d5   3406     RETLW     0x6            	retlw high D'1582'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001d6   3406     RETLW     0x6            	retlw high D'1569'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001d7   3406     RETLW     0x6            	retlw high D'1557'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001d8   3406     RETLW     0x6            	retlw high D'1544'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001d9   3405     RETLW     0x5            	retlw high D'1531'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001da   3405     RETLW     0x5            	retlw high D'1519'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001db   3405     RETLW     0x5            	retlw high D'1507'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001dc   3405     RETLW     0x5            	retlw high D'1495'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001dd   3405     RETLW     0x5            	retlw high D'1483'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001de   3405     RETLW     0x5            	retlw high D'1472'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001df   3405     RETLW     0x5            	retlw high D'1461'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001e0   3405     RETLW     0x5            	retlw high D'1449'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001e1   3405     RETLW     0x5            	retlw high D'1438'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001e2   3405     RETLW     0x5            	retlw high D'1428'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001e3   3405     RETLW     0x5            	retlw high D'1417'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001e4   3405     RETLW     0x5            	retlw high D'1406'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001e5   3405     RETLW     0x5            	retlw high D'1396'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001e6   3405     RETLW     0x5            	retlw high D'1386'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001e7   3405     RETLW     0x5            	retlw high D'1376'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001e8   3405     RETLW     0x5            	retlw high D'1366'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001e9   3405     RETLW     0x5            	retlw high D'1356'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001ea   3405     RETLW     0x5            	retlw high D'1346'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001eb   3405     RETLW     0x5            	retlw high D'1337'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001ec   3405     RETLW     0x5            	retlw high D'1328'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001ed   3405     RETLW     0x5            	retlw high D'1318'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001ee   3405     RETLW     0x5            	retlw high D'1309'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001ef   3405     RETLW     0x5            	retlw high D'1300'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001f0   3405     RETLW     0x5            	retlw high D'1291'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001f1   3405     RETLW     0x5            	retlw high D'1283'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001f2   3404     RETLW     0x4            	retlw high D'1274'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001f3   3404     RETLW     0x4            	retlw high D'1266'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001f4   3404     RETLW     0x4            	retlw high D'1257'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001f5   3404     RETLW     0x4            	retlw high D'1249'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001f6   3404     RETLW     0x4            	retlw high D'1241'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001f7   3404     RETLW     0x4            	retlw high D'1233'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001f8   3404     RETLW     0x4            	retlw high D'1225'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001f9   3404     RETLW     0x4            	retlw high D'1217'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001fa   3404     RETLW     0x4            	retlw high D'1209'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001fb   3404     RETLW     0x4            	retlw high D'1201'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001fc   3404     RETLW     0x4            	retlw high D'1194'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001fd   3404     RETLW     0x4            	retlw high D'1186'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001fe   3404     RETLW     0x4            	retlw high D'1179'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0001ff   3404     RETLW     0x4            	retlw high D'1172'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000200   3404     RETLW     0x4            	retlw high D'1165'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000201   3404     RETLW     0x4            	retlw high D'1157'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000202   3404     RETLW     0x4            	retlw high D'1150'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000203   3404     RETLW     0x4            	retlw high D'1143'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000204   3404     RETLW     0x4            	retlw high D'1137'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000205   3404     RETLW     0x4            	retlw high D'1130'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000206   3404     RETLW     0x4            	retlw high D'1123'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000207   3404     RETLW     0x4            	retlw high D'1117'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000208   3404     RETLW     0x4            	retlw high D'1110'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000209   3404     RETLW     0x4            	retlw high D'1104'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00020a   3404     RETLW     0x4            	retlw high D'1097'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00020b   3404     RETLW     0x4            	retlw high D'1091'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00020c   3404     RETLW     0x4            	retlw high D'1085'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00020d   3404     RETLW     0x4            	retlw high D'1078'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00020e   3404     RETLW     0x4            	retlw high D'1072'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00020f   3404     RETLW     0x4            	retlw high D'1066'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000210   3404     RETLW     0x4            	retlw high D'1060'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000211   3404     RETLW     0x4            	retlw high D'1054'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000212   3404     RETLW     0x4            	retlw high D'1049'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000213   3404     RETLW     0x4            	retlw high D'1043'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000214   3404     RETLW     0x4            	retlw high D'1037'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000215   3404     RETLW     0x4            	retlw high D'1031'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000216   3404     RETLW     0x4            	retlw high D'1026'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000217   3403     RETLW     0x3            	retlw high D'1020'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000218   3403     RETLW     0x3            	retlw high D'1015'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000219   3403     RETLW     0x3            	retlw high D'1009'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00021a   3403     RETLW     0x3            	retlw high D'1004'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00021b   3403     RETLW     0x3            	retlw high D'999'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00021c   3403     RETLW     0x3            	retlw high D'994'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00021d   3403     RETLW     0x3            	retlw high D'988'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00021e   3403     RETLW     0x3            	retlw high D'983'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00021f   3403     RETLW     0x3            	retlw high D'978'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000220   3403     RETLW     0x3            	retlw high D'973'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000221   3403     RETLW     0x3            	retlw high D'968'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000222   3403     RETLW     0x3            	retlw high D'963'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000223   3403     RETLW     0x3            	retlw high D'958'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000224   3403     RETLW     0x3            	retlw high D'954'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000225   3403     RETLW     0x3            	retlw high D'949'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000226   3403     RETLW     0x3            	retlw high D'944'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000227   3403     RETLW     0x3            	retlw high D'939'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000228   3403     RETLW     0x3            	retlw high D'935'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000229   3403     RETLW     0x3            	retlw high D'930'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00022a   3403     RETLW     0x3            	retlw high D'926'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00022b   3403     RETLW     0x3            	retlw high D'921'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00022c   3403     RETLW     0x3            	retlw high D'917'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00022d   3403     RETLW     0x3            	retlw high D'912'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00022e   3403     RETLW     0x3            	retlw high D'908'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00022f   3403     RETLW     0x3            	retlw high D'904'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000230   3403     RETLW     0x3            	retlw high D'899'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000231   3403     RETLW     0x3            	retlw high D'895'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000232   3403     RETLW     0x3            	retlw high D'891'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000233   3403     RETLW     0x3            	retlw high D'887'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000234   3403     RETLW     0x3            	retlw high D'883'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000235   3403     RETLW     0x3            	retlw high D'878'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000236   3403     RETLW     0x3            	retlw high D'874'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000237   3403     RETLW     0x3            	retlw high D'870'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000238   3403     RETLW     0x3            	retlw high D'866'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000239   3403     RETLW     0x3            	retlw high D'862'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00023a   3403     RETLW     0x3            	retlw high D'859'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00023b   3403     RETLW     0x3            	retlw high D'855'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00023c   3403     RETLW     0x3            	retlw high D'851'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00023d   3403     RETLW     0x3            	retlw high D'847'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00023e   3403     RETLW     0x3            	retlw high D'843'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00023f   3403     RETLW     0x3            	retlw high D'840'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000240   3403     RETLW     0x3            	retlw high D'836'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000241   3403     RETLW     0x3            	retlw high D'832'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000242   3403     RETLW     0x3            	retlw high D'829'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000243   3403     RETLW     0x3            	retlw high D'825'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000244   3403     RETLW     0x3            	retlw high D'821'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000245   3403     RETLW     0x3            	retlw high D'818'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000246   3403     RETLW     0x3            	retlw high D'814'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000247   3403     RETLW     0x3            	retlw high D'811'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000248   3403     RETLW     0x3            	retlw high D'807'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000249   3403     RETLW     0x3            	retlw high D'804'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00024a   3403     RETLW     0x3            	retlw high D'801'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00024b   3403     RETLW     0x3            	retlw high D'797'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00024c   3403     RETLW     0x3            	retlw high D'794'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00024d   3403     RETLW     0x3            	retlw high D'791'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00024e   3403     RETLW     0x3            	retlw high D'787'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00024f   3403     RETLW     0x3            	retlw high D'784'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000250   3403     RETLW     0x3            	retlw high D'781'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                           T1LowTable		; LS Byte code                                                       K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000251   3456     RETLW     0x56           	retlw low D'64854'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000252   3456     RETLW     0x56           	retlw low D'64854'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000253   3456     RETLW     0x56           	retlw low D'64854'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000254   3456     RETLW     0x56           	retlw low D'64854'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000255   3456     RETLW     0x56           	retlw low D'64854'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000256   3456     RETLW     0x56           	retlw low D'64854'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000257   3456     RETLW     0x56           	retlw low D'64854'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000258   3456     RETLW     0x56           	retlw low D'64854'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000259   3456     RETLW     0x56           	retlw low D'64854'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00025a   3456     RETLW     0x56           	retlw low D'64854'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00025b   3456     RETLW     0x56           	retlw low D'64854'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00025c   3456     RETLW     0x56           	retlw low D'64854'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00025d   3456     RETLW     0x56           	retlw low D'64854'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00025e   3456     RETLW     0x56           	retlw low D'64854'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00025f   3456     RETLW     0x56           	retlw low D'64854'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000260   3456     RETLW     0x56           	retlw low D'64854'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000261   3425     RETLW     0x25           	retlw low D'49189'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000262   3496     RETLW     0x96           	retlw low D'39062'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000263   3489     RETLW     0x89           	retlw low D'32393'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000264   3415     RETLW     0x15           	retlw low D'27669'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000265   3453     RETLW     0x53           	retlw low D'24147'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000266   34ad     RETLW     0xad           	retlw low D'21421'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000267   3430     RETLW     0x30           	retlw low D'19248'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000268   3443     RETLW     0x43           	retlw low D'17475'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000269   3481     RETLW     0x81           	retlw low D'16001'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00026a   34a4     RETLW     0xa4           	retlw low D'14756'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00026b   347c     RETLW     0x7c           	retlw low D'13692'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00026c   34e2     RETLW     0xe2           	retlw low D'12770'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00026d   34bd     RETLW     0xbd           	retlw low D'11965'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00026e   34f7     RETLW     0xf7           	retlw low D'11255'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00026f   3481     RETLW     0x81           	retlw low D'10625'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000270   344d     RETLW     0x4d           	retlw low D'10061'                                                              K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000271   3452     RETLW     0x52           	retlw low D'9554'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000272   3488     RETLW     0x88           	retlw low D'9096'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000273   34e8     RETLW     0xe8           	retlw low D'8680'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000274   346c     RETLW     0x6c           	retlw low D'8300'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000275   3410     RETLW     0x10           	retlw low D'7952'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000276   34d0     RETLW     0xd0           	retlw low D'7632'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000277   34a9     RETLW     0xa9           	retlw low D'7337'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000278   3498     RETLW     0x98           	retlw low D'7064'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000279   349a     RETLW     0x9a           	retlw low D'6810'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00027a   34ae     RETLW     0xae           	retlw low D'6574'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00027b   34d2     RETLW     0xd2           	retlw low D'6354'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00027c   3404     RETLW     0x4            	retlw low D'6148'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00027d   3443     RETLW     0x43           	retlw low D'5955'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00027e   348e     RETLW     0x8e           	retlw low D'5774'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00027f   34e3     RETLW     0xe3           	retlw low D'5603'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000280   3443     RETLW     0x43           	retlw low D'5443'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000281   34ab     RETLW     0xab           	retlw low D'5291'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000282   341b     RETLW     0x1b           	retlw low D'5147'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000283   3493     RETLW     0x93           	retlw low D'5011'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000284   3412     RETLW     0x12           	retlw low D'4882'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000285   3498     RETLW     0x98           	retlw low D'4760'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000286   3423     RETLW     0x23           	retlw low D'4643'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000287   34b4     RETLW     0xb4           	retlw low D'4532'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000288   344b     RETLW     0x4b           	retlw low D'4427'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000289   34e6     RETLW     0xe6           	retlw low D'4326'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00028a   3485     RETLW     0x85           	retlw low D'4229'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00028b   3429     RETLW     0x29           	retlw low D'4137'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00028c   34d1     RETLW     0xd1           	retlw low D'4049'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00028d   347c     RETLW     0x7c           	retlw low D'3964'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00028e   342b     RETLW     0x2b           	retlw low D'3883'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00028f   34dd     RETLW     0xdd           	retlw low D'3805'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000290   3492     RETLW     0x92           	retlw low D'3730'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000291   344a     RETLW     0x4a           	retlw low D'3658'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000292   3405     RETLW     0x5            	retlw low D'3589'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000293   34c2     RETLW     0xc2           	retlw low D'3522'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000294   3482     RETLW     0x82           	retlw low D'3458'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000295   3444     RETLW     0x44           	retlw low D'3396'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000296   3408     RETLW     0x8            	retlw low D'3336'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000297   34cf     RETLW     0xcf           	retlw low D'3279'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000298   3497     RETLW     0x97           	retlw low D'3223'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000299   3461     RETLW     0x61           	retlw low D'3169'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00029a   342d     RETLW     0x2d           	retlw low D'3117'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00029b   34fb     RETLW     0xfb           	retlw low D'3067'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00029c   34ca     RETLW     0xca           	retlw low D'3018'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00029d   349b     RETLW     0x9b           	retlw low D'2971'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00029e   346d     RETLW     0x6d           	retlw low D'2925'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00029f   3440     RETLW     0x40           	retlw low D'2880'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002a0   3415     RETLW     0x15           	retlw low D'2837'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002a1   34ec     RETLW     0xec           	retlw low D'2796'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002a2   34c3     RETLW     0xc3           	retlw low D'2755'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002a3   349c     RETLW     0x9c           	retlw low D'2716'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002a4   3475     RETLW     0x75           	retlw low D'2677'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002a5   3450     RETLW     0x50           	retlw low D'2640'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002a6   342c     RETLW     0x2c           	retlw low D'2604'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002a7   3408     RETLW     0x8            	retlw low D'2568'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002a8   34e6     RETLW     0xe6           	retlw low D'2534'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002a9   34c5     RETLW     0xc5           	retlw low D'2501'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002aa   34a4     RETLW     0xa4           	retlw low D'2468'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002ab   3484     RETLW     0x84           	retlw low D'2436'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002ac   3466     RETLW     0x66           	retlw low D'2406'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002ad   3447     RETLW     0x47           	retlw low D'2375'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002ae   342a     RETLW     0x2a           	retlw low D'2346'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002af   340d     RETLW     0xd            	retlw low D'2317'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002b0   34f1     RETLW     0xf1           	retlw low D'2289'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002b1   34d6     RETLW     0xd6           	retlw low D'2262'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002b2   34bb     RETLW     0xbb           	retlw low D'2235'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002b3   34a1     RETLW     0xa1           	retlw low D'2209'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002b4   3488     RETLW     0x88           	retlw low D'2184'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002b5   346f     RETLW     0x6f           	retlw low D'2159'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002b6   3457     RETLW     0x57           	retlw low D'2135'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002b7   343f     RETLW     0x3f           	retlw low D'2111'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002b8   3428     RETLW     0x28           	retlw low D'2088'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002b9   3411     RETLW     0x11           	retlw low D'2065'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002ba   34fb     RETLW     0xfb           	retlw low D'2043'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002bb   34e5     RETLW     0xe5           	retlw low D'2021'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002bc   34d0     RETLW     0xd0           	retlw low D'2000'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002bd   34bb     RETLW     0xbb           	retlw low D'1979'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002be   34a6     RETLW     0xa6           	retlw low D'1958'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002bf   3492     RETLW     0x92           	retlw low D'1938'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002c0   347f     RETLW     0x7f           	retlw low D'1919'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002c1   346c     RETLW     0x6c           	retlw low D'1900'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002c2   3459     RETLW     0x59           	retlw low D'1881'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002c3   3446     RETLW     0x46           	retlw low D'1862'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002c4   3434     RETLW     0x34           	retlw low D'1844'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002c5   3422     RETLW     0x22           	retlw low D'1826'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002c6   3411     RETLW     0x11           	retlw low D'1809'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002c7   3400     RETLW     0x0            	retlw low D'1792'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002c8   34ef     RETLW     0xef           	retlw low D'1775'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002c9   34df     RETLW     0xdf           	retlw low D'1759'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002ca   34ce     RETLW     0xce           	retlw low D'1742'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002cb   34bf     RETLW     0xbf           	retlw low D'1727'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002cc   34af     RETLW     0xaf           	retlw low D'1711'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002cd   34a0     RETLW     0xa0           	retlw low D'1696'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002ce   3491     RETLW     0x91           	retlw low D'1681'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002cf   3482     RETLW     0x82           	retlw low D'1666'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002d0   3473     RETLW     0x73           	retlw low D'1651'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002d1   3465     RETLW     0x65           	retlw low D'1637'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002d2   3457     RETLW     0x57           	retlw low D'1623'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002d3   3449     RETLW     0x49           	retlw low D'1609'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002d4   343c     RETLW     0x3c           	retlw low D'1596'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002d5   342e     RETLW     0x2e           	retlw low D'1582'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002d6   3421     RETLW     0x21           	retlw low D'1569'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002d7   3415     RETLW     0x15           	retlw low D'1557'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002d8   3408     RETLW     0x8            	retlw low D'1544'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002d9   34fb     RETLW     0xfb           	retlw low D'1531'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002da   34ef     RETLW     0xef           	retlw low D'1519'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002db   34e3     RETLW     0xe3           	retlw low D'1507'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002dc   34d7     RETLW     0xd7           	retlw low D'1495'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002dd   34cb     RETLW     0xcb           	retlw low D'1483'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002de   34c0     RETLW     0xc0           	retlw low D'1472'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002df   34b5     RETLW     0xb5           	retlw low D'1461'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002e0   34a9     RETLW     0xa9           	retlw low D'1449'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002e1   349e     RETLW     0x9e           	retlw low D'1438'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002e2   3494     RETLW     0x94           	retlw low D'1428'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002e3   3489     RETLW     0x89           	retlw low D'1417'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002e4   347e     RETLW     0x7e           	retlw low D'1406'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002e5   3474     RETLW     0x74           	retlw low D'1396'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002e6   346a     RETLW     0x6a           	retlw low D'1386'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002e7   3460     RETLW     0x60           	retlw low D'1376'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002e8   3456     RETLW     0x56           	retlw low D'1366'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002e9   344c     RETLW     0x4c           	retlw low D'1356'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002ea   3442     RETLW     0x42           	retlw low D'1346'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002eb   3439     RETLW     0x39           	retlw low D'1337'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002ec   3430     RETLW     0x30           	retlw low D'1328'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002ed   3426     RETLW     0x26           	retlw low D'1318'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002ee   341d     RETLW     0x1d           	retlw low D'1309'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002ef   3414     RETLW     0x14           	retlw low D'1300'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002f0   340b     RETLW     0xb            	retlw low D'1291'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002f1   3403     RETLW     0x3            	retlw low D'1283'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002f2   34fa     RETLW     0xfa           	retlw low D'1274'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002f3   34f2     RETLW     0xf2           	retlw low D'1266'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002f4   34e9     RETLW     0xe9           	retlw low D'1257'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002f5   34e1     RETLW     0xe1           	retlw low D'1249'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002f6   34d9     RETLW     0xd9           	retlw low D'1241'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002f7   34d1     RETLW     0xd1           	retlw low D'1233'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002f8   34c9     RETLW     0xc9           	retlw low D'1225'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002f9   34c1     RETLW     0xc1           	retlw low D'1217'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002fa   34b9     RETLW     0xb9           	retlw low D'1209'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002fb   34b1     RETLW     0xb1           	retlw low D'1201'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002fc   34aa     RETLW     0xaa           	retlw low D'1194'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002fd   34a2     RETLW     0xa2           	retlw low D'1186'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002fe   349b     RETLW     0x9b           	retlw low D'1179'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
0002ff   3494     RETLW     0x94           	retlw low D'1172'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000300   348d     RETLW     0x8d           	retlw low D'1165'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000301   3485     RETLW     0x85           	retlw low D'1157'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000302   347e     RETLW     0x7e           	retlw low D'1150'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000303   3477     RETLW     0x77           	retlw low D'1143'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000304   3471     RETLW     0x71           	retlw low D'1137'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000305   346a     RETLW     0x6a           	retlw low D'1130'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000306   3463     RETLW     0x63           	retlw low D'1123'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000307   345d     RETLW     0x5d           	retlw low D'1117'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000308   3456     RETLW     0x56           	retlw low D'1110'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000309   3450     RETLW     0x50           	retlw low D'1104'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00030a   3449     RETLW     0x49           	retlw low D'1097'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00030b   3443     RETLW     0x43           	retlw low D'1091'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00030c   343d     RETLW     0x3d           	retlw low D'1085'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00030d   3436     RETLW     0x36           	retlw low D'1078'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00030e   3430     RETLW     0x30           	retlw low D'1072'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00030f   342a     RETLW     0x2a           	retlw low D'1066'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000310   3424     RETLW     0x24           	retlw low D'1060'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000311   341e     RETLW     0x1e           	retlw low D'1054'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000312   3419     RETLW     0x19           	retlw low D'1049'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000313   3413     RETLW     0x13           	retlw low D'1043'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000314   340d     RETLW     0xd            	retlw low D'1037'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000315   3407     RETLW     0x7            	retlw low D'1031'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000316   3402     RETLW     0x2            	retlw low D'1026'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000317   34fc     RETLW     0xfc           	retlw low D'1020'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000318   34f7     RETLW     0xf7           	retlw low D'1015'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000319   34f1     RETLW     0xf1           	retlw low D'1009'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00031a   34ec     RETLW     0xec           	retlw low D'1004'                                                               K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00031b   34e7     RETLW     0xe7           	retlw low D'999'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00031c   34e2     RETLW     0xe2           	retlw low D'994'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00031d   34dc     RETLW     0xdc           	retlw low D'988'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00031e   34d7     RETLW     0xd7           	retlw low D'983'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00031f   34d2     RETLW     0xd2           	retlw low D'978'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000320   34cd     RETLW     0xcd           	retlw low D'973'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000321   34c8     RETLW     0xc8           	retlw low D'968'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000322   34c3     RETLW     0xc3           	retlw low D'963'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000323   34be     RETLW     0xbe           	retlw low D'958'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000324   34ba     RETLW     0xba           	retlw low D'954'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000325   34b5     RETLW     0xb5           	retlw low D'949'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000326   34b0     RETLW     0xb0           	retlw low D'944'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000327   34ab     RETLW     0xab           	retlw low D'939'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000328   34a7     RETLW     0xa7           	retlw low D'935'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000329   34a2     RETLW     0xa2           	retlw low D'930'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00032a   349e     RETLW     0x9e           	retlw low D'926'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00032b   3499     RETLW     0x99           	retlw low D'921'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00032c   3495     RETLW     0x95           	retlw low D'917'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00032d   3490     RETLW     0x90           	retlw low D'912'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00032e   348c     RETLW     0x8c           	retlw low D'908'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00032f   3488     RETLW     0x88           	retlw low D'904'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000330   3483     RETLW     0x83           	retlw low D'899'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000331   347f     RETLW     0x7f           	retlw low D'895'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000332   347b     RETLW     0x7b           	retlw low D'891'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000333   3477     RETLW     0x77           	retlw low D'887'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000334   3473     RETLW     0x73           	retlw low D'883'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000335   346e     RETLW     0x6e           	retlw low D'878'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000336   346a     RETLW     0x6a           	retlw low D'874'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000337   3466     RETLW     0x66           	retlw low D'870'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000338   3462     RETLW     0x62           	retlw low D'866'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000339   345e     RETLW     0x5e           	retlw low D'862'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00033a   345b     RETLW     0x5b           	retlw low D'859'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00033b   3457     RETLW     0x57           	retlw low D'855'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00033c   3453     RETLW     0x53           	retlw low D'851'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00033d   344f     RETLW     0x4f           	retlw low D'847'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00033e   344b     RETLW     0x4b           	retlw low D'843'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00033f   3448     RETLW     0x48           	retlw low D'840'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000340   3444     RETLW     0x44           	retlw low D'836'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000341   3440     RETLW     0x40           	retlw low D'832'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000342   343d     RETLW     0x3d           	retlw low D'829'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000343   3439     RETLW     0x39           	retlw low D'825'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000344   3435     RETLW     0x35           	retlw low D'821'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000345   3432     RETLW     0x32           	retlw low D'818'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000346   342e     RETLW     0x2e           	retlw low D'814'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000347   342b     RETLW     0x2b           	retlw low D'811'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000348   3427     RETLW     0x27           	retlw low D'807'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000349   3424     RETLW     0x24           	retlw low D'804'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00034a   3421     RETLW     0x21           	retlw low D'801'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00034b   341d     RETLW     0x1d           	retlw low D'797'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00034c   341a     RETLW     0x1a           	retlw low D'794'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00034d   3417     RETLW     0x17           	retlw low D'791'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00034e   3413     RETLW     0x13           	retlw low D'787'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
00034f   3410     RETLW     0x10           	retlw low D'784'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
000350   340d     RETLW     0xd            	retlw low D'781'                                                                K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\BLDCspd4.inc
                                                                                                                            K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
                                           	end                                                                             K:\PRODEV\IMAGE\Samples\Microchip\App Notes\AN857\snsrless.asm
